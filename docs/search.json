[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Restaurants in NYC",
    "section": "",
    "text": "1 Introduction",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\n# Calculate percentage of missing values per column\nmissing_summary &lt;- df %&gt;%\n  summarise(across(everything(), ~ mean(is.na(.)) * 100)) %&gt;%\n  pivot_longer(everything(), names_to = \"column\", values_to = \"percent_missing\") %&gt;%\n  filter(percent_missing &gt; 0) %&gt;% # Filter only columns with missing values\n  arrange(desc(percent_missing))\n\n# Bar chart\nggplot(missing_summary, aes(x = reorder(column, percent_missing), y = percent_missing)) +\n  geom_col(fill = \"steelblue\") +\n  coord_flip() +\n  labs(title = \"Percentage of Missing Values by Column\",\n       x = \"Variable\", \n       y = \"% Missing\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\nThe bar chart highlights that GRADE and GRADE DATE are the variables with the highest missingness (approximately 50%). This is consistent with the inspection process, where many initial or administrative inspections generate a score but do not immediately result in a letter grade.\n\n\nCode\n# 1. Create patterns\nmissing_patterns &lt;- df %&gt;%\n  select(GRADE, `GRADE DATE`, SCORE, `VIOLATION CODE`, `ACTION`) %&gt;%\n  mutate(across(everything(), is.na)) %&gt;%\n  group_by(across(everything())) %&gt;%\n  summarise(count = n(), .groups = \"drop\") %&gt;%\n  arrange(desc(count)) %&gt;%\n  ungroup() %&gt;%\n  mutate(pattern_id = row_number()) %&gt;%\n  pivot_longer(cols = -c(count, pattern_id), names_to = \"variable\", values_to = \"is_missing\")\n\n# 2. Prepare data for plotting (Top 10 only)\ntop_patterns &lt;- missing_patterns %&gt;%\n  filter(pattern_id &lt;= 10) %&gt;%\n  # Create a descriptive Y-axis label including the count\n  mutate(row_label = paste0(\"Pattern \", pattern_id, \" (n = \", count, \")\"))\n\n# 3. Visualization\nggplot(top_patterns, aes(x = variable, y = fct_rev(fct_inorder(row_label)), fill = is_missing)) +\n  geom_tile(color = \"white\") +\n  \n  # Manual colors: Orange for Missing, Grey for Present\n  scale_fill_manual(values = c(\"TRUE\" = \"tomato\", \"FALSE\" = \"grey80\"), \n                    labels = c(\"Present\", \"Missing\")) +\n  \n  # English labels\n  labs(title = \"Common Missing Value Patterns\",\n       subtitle = \"Which columns tend to be missing together? (Top 10 Patterns)\",\n       x = \"Variable\", \n       y = \"Pattern Frequency\", \n       fill = \"Is Missing?\") +\n  \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Tilt x-axis text for readability\n\n\n\n\n\n\n\n\n\nThe heatmap reveals that missing data follows structural patterns rather than being random. While Pattern 1 represents complete inspections, Pattern 2 (almost as frequent) indicates cases where a SCORE exists but the GRADE is missing, likely representing “Grade Pending” or initial inspection stages. Pattern 3 highlights administrative violations where neither a score nor a grade is assigned.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "3.1 Geospatial Density Map\nCode\n# Load the dataset with specific column types\ndf &lt;- read_csv(\"C:/Users/famig/OneDrive/Scuola/0 Columbia University/1 Fall 2025/STAT GR5702 - Exploratory Data Analysis & Visualization/EDAV/DOHMH_New_York_City_Restaurant_Inspection_Results.csv\",\n                 col_types = cols(\n    .default = col_character(),      # Set default to character for safety\n    CAMIS = col_double(),            # Unique ID\n    ZIPCODE = col_character(),       # Important: Keep as character to prevent stripping leading zeros\n    SCORE = col_double(),\n    Latitude = col_double(),\n    Longitude = col_double(),\n    `Community Board` = col_double(),\n    BIN = col_double(),\n    BBL = col_double()\n  ),\n  show_col_types = FALSE\n ) %&gt;%\n  # Clean up date columns immediately using lubridate\n  mutate(`INSPECTION DATE` = mdy(`INSPECTION DATE`),\n         `GRADE DATE` = mdy(`GRADE DATE`),\n         `RECORD DATE` = mdy(`RECORD DATE`))\nCode\n# Helper functions to handle NAs safely\nlast_non_null &lt;- function(x) {\n  x &lt;- x[!is.na(x)]\n  if (length(x) == 0) return(NA)\n  tail(x, 1)\n}\n\nsafe_mean &lt;- function(x) {\n  x &lt;- x[!is.na(x)]\n  if (length(x) == 0) return(NA_real_)\n  mean(x)\n}\n\n# --- DATA TRANSFORMATION ---\nrestaurants &lt;- df %&gt;%\n  # 1. TIME FILTER BEFORE GROUPING\n  # Remove dummy dates (1900) and focus on relevant recent data (post-2015)\n  filter(`INSPECTION DATE` &gt;= ymd(\"2015-01-01\")) %&gt;% \n  \n  arrange(`INSPECTION DATE`) %&gt;%\n  group_by(CAMIS) %&gt;%\n  summarise(\n    DBA      = first(na.omit(DBA)),    # Takes the first non-null name\n    BORO     = first(na.omit(BORO)),\n    BUILDING = first(BUILDING),\n    STREET   = first(STREET),\n    ZIPCODE  = first(ZIPCODE),\n    PHONE    = first(PHONE),\n    CUISINE_DESCRIPTION = first(`CUISINE DESCRIPTION`),\n    \n    # 2. ROBUST COORDINATES\n    # If the first value is NA, the mean retrieves the location across inspections\n    Latitude  = mean(Latitude, na.rm = TRUE), \n    Longitude = mean(Longitude, na.rm = TRUE),\n\n    n_inspections    = n_distinct(`INSPECTION DATE`, na.rm = TRUE),\n    first_inspection = min(`INSPECTION DATE`, na.rm = TRUE),\n    last_inspection  = max(`INSPECTION DATE`, na.rm = TRUE),\n\n    mean_score = safe_mean(SCORE),\n    # Mean score provides a good summary of overall hygiene performance\n    \n    last_grade = last_non_null(GRADE),\n\n    # Create a list of all unique violations ever received by the restaurant\n    violations = list(unique(na.omit(`VIOLATION DESCRIPTION`))),\n    .groups = \"drop\"\n  )\nCode\nmapping &lt;- c(\n  # --- AMERICAN (Include ora Seafood, Jewish/Kosher e varianti regionali) ---\n  \"American\"                       = \"American\",\n  \"New American\"                   = \"American\",\n  \"Chicken\"                        = \"American\",\n  \"Hamburgers\"                     = \"American\",\n  \"Steakhouse\"                     = \"American\",\n  \"Barbecue\"                       = \"American\",\n  \"Hotdogs\"                        = \"American\",\n  \"Hotdogs/Pretzels\"               = \"American\",\n  \"Soul Food\"                      = \"American\",\n  \"Continental\"                    = \"American\",\n  \"Californian\"                    = \"American\",\n  \"Southwestern\"                   = \"American\",\n  \"Cajun\"                          = \"American\",\n  \"Creole\"                         = \"American\",\n  \"Creole/Cajun\"                   = \"American\",\n  \"Hawaiian\"                       = \"American\", # Poke è spesso fast casual\n  \n  # MERGE RICHIESTI:\n  \"Seafood\"                        = \"American\", # Unito ad American\n  \"Jewish/Kosher\"                  = \"American\", # Unito ad American (stile Deli)\n\n  # --- CAFE, DELI, BAKERY & DESSERTS (Include Sandwiches e Salads) ---\n  \"Coffee/Tea\"                     = \"Cafe/Deli/Bakery\",\n  \"Bakery Products/Desserts\"       = \"Cafe/Deli/Bakery\",\n  \"Donuts\"                         = \"Cafe/Deli/Bakery\",\n  \"Frozen Desserts\"                = \"Cafe/Deli/Bakery\",\n  \"Pancakes/Waffles\"               = \"Cafe/Deli/Bakery\",\n  \"Nuts/Confectionary\"             = \"Cafe/Deli/Bakery\",\n  \"Fruits/Vegetables\"              = \"Cafe/Deli/Bakery\",\n  # Spostati qui come richiesto:\n  \"Sandwiches\"                     = \"Cafe/Deli/Bakery\",\n  \"Sandwiches/Salads/Mixed Buffet\" = \"Cafe/Deli/Bakery\",\n  \"Salads\"                         = \"Cafe/Deli/Bakery\",\n  \"Soups/Salads/Sandwiches\"        = \"Cafe/Deli/Bakery\",\n  \"Soups\"                          = \"Cafe/Deli/Bakery\",\n  \"Juice, Smoothies, Fruit Salads\" = \"Cafe/Deli/Bakery\",\n  \"Bagels/Pretzels\"                = \"Cafe/Deli/Bakery\",\n  \"Bottled Beverages\"              = \"Cafe/Deli/Bakery\",\n\n  # --- ASIAN ---\n  \"Chinese\"                        = \"Asian\",\n  \"Japanese\"                       = \"Asian\",\n  \"Asian/Asian Fusion\"             = \"Asian\",\n  \"Korean\"                         = \"Asian\",\n  \"Thai\"                           = \"Asian\",\n  \"Southeast Asian\"                = \"Asian\",\n  \"Bangladeshi\"                    = \"Asian\",\n  \"Filipino\"                       = \"Asian\",\n  \"Pakistani\"                      = \"Asian\",\n  \"Chinese/Japanese\"               = \"Asian\",\n  \"Chinese/Cuban\"                  = \"Asian\",\n  \"Indonesian\"                     = \"Asian\",\n  \"Afghan\"                         = \"Asian\",\n  \n  # --- LATIN AMERICAN ---\n  \"Mexican\"                        = \"Latin American\",\n  \"Latin American\"                 = \"Latin American\",\n  \"Caribbean\"                      = \"Latin American\",\n  \"Tex-Mex\"                        = \"Latin American\",\n  \"Peruvian\"                       = \"Latin American\",\n  \"Brazilian\"                      = \"Latin American\",\n  \"Chilean\"                        = \"Latin American\",\n  \"Chimichurri\"                    = \"Latin American\",\n  \n  # --- ITALIAN (Include Pizza) ---\n  \"Pizza\"                          = \"Italian\",\n  \"Italian\"                        = \"Italian\",\n  \n  # --- EUROPEAN (Spagnola, Est Europa, ecc.) ---\n  \"Spanish\"                        = \"European\",\n  \"Irish\"                          = \"European\",\n  \"Eastern European\"               = \"European\",\n  \"Russian\"                        = \"European\",\n  \"Polish\"                         = \"European\",\n  \"German\"                         = \"European\",\n  \"English\"                        = \"European\",\n  \"Tapas\"                          = \"European\",\n  \"Portuguese\"                     = \"European\",\n  \"Czech\"                          = \"European\",\n  \"Scandinavian\"                   = \"European\",\n  \"Basque\"                         = \"European\",\n  \"Armenian\"                       = \"European\",\n\n  # --- FRENCH ---\n  \"French\"                         = \"French\",\n  \"New French\"                     = \"French\",\n  \"Haute Cuisine\"                  = \"French\",\n\n  # --- MEDITERRANEAN / MIDDLE EASTERN ---\n  \"Mediterranean\"                  = \"Mediterranean/Middle Eastern\",\n  \"Middle Eastern\"                 = \"Mediterranean/Middle Eastern\",\n  \"Greek\"                          = \"Mediterranean/Middle Eastern\",\n  \"Turkish\"                        = \"Mediterranean/Middle Eastern\",\n  \"Falafel\"                        = \"Mediterranean/Middle Eastern\",\n  \"Egyptian\"                       = \"Mediterranean/Middle Eastern\",\n  \"Moroccan\"                       = \"Mediterranean/Middle Eastern\",\n  \"Lebanese\"                       = \"Mediterranean/Middle Eastern\",\n  \"Iranian\"                        = \"Mediterranean/Middle Eastern\",\n\n  # --- INDIAN ---\n  \"Indian\"                         = \"Indian\",\n\n  # --- OTHER ---\n  \"Other\"                          = \"Other\",\n  \"Fusion\"                         = \"Other\",\n  \"Australian\"                     = \"Other\",\n  \"Polynesian\"                     = \"Other\",\n  \"Not Listed/Not Applicable\"      = \"Other\",\n  \"African\"                        = \"Other\",\n  \"Ethiopian\"                      = \"Other\"\n)\n\n# mapping\nrestaurants &lt;- restaurants %&gt;%\n  mutate(\n    cuisine_group = mapping[CUISINE_DESCRIPTION],\n    cuisine_group = ifelse(is.na(cuisine_group), \"Other\", cuisine_group)\n  )\nCode\nlibrary(sf)\nlibrary(ggplot2)\nlibrary(ggdensity)\nlibrary(dplyr)\n\n# 1. Load the Shapefile\nnyc_map &lt;- read_sf(\"C:/Users/famig/OneDrive/Scuola/0 Columbia University/1 Fall 2025/STAT GR5702 - Exploratory Data Analysis & Visualization/EDAV/nybb_25d/nybb.shp\") %&gt;%\n  st_transform(crs = 4326)\n\n# 2. Data Cleaning for Geospatial Analysis\n# We create a specific subset to avoid overwriting the main dataset accidentally\nrestaurants_geo &lt;- restaurants %&gt;%\n  # IMPORTANT FIX: Remove rows without coordinates\n  filter(!is.na(Longitude) & !is.na(Latitude)) %&gt;%\n  # Remove valid but incorrect coordinates (e.g., 0,0 points that land in the ocean)\n  filter(Longitude &lt; -70 & Latitude &gt; 35)\n\n# 3. Test Dot Map (Optional - run this first to check if points align with the map)\n# This is lighter to render than the density map\nggplot() +\n  geom_sf(data = nyc_map, fill = \"grey95\", color = \"grey80\") +\n  geom_point(data = restaurants_geo, \n             aes(x = Longitude, y = Latitude), \n             size = 0.1, alpha = 0.1, color = \"red\") +\n  facet_wrap(~ cuisine_group) +\n  theme_void() +\n  labs(title = \"Dot Map Test: Restaurant Locations\")\n\n\n\n\n\n\n\n\n\nCode\n# 4. Final Density Heatmap\n# Note: This creates a Kernel Density Estimation (KDE) over the map\nggplot() +\n  # Base map layer\n  geom_sf(data = nyc_map, fill = \"grey95\", color = \"grey80\", linewidth = 0.3) +\n  \n  # Density layer\n  geom_hdr(data = restaurants_geo, \n           aes(x = Longitude, y = Latitude, fill = after_stat(probs)), \n           method = \"kde\", alpha = 0.6) +\n  \n  # Facet by cuisine to see specific clustering\n  facet_wrap(~ cuisine_group, nrow = 3) + # Increased rows for better visibility\n  \n  # Styling\n  scale_fill_viridis_d(option = \"A\", direction = -1, name = \"Probability\") +\n  theme_void() +\n  labs(title = \"Restaurant Hotspots by Cuisine in NYC\",\n       subtitle = \"Spatial density estimation of inspection locations\",\n       caption = \"Source: NYC DOHMH & NYC Planning\") +\n  theme(strip.text = element_text(face = \"bold\"),\n        legend.position = \"bottom\")\nBy overlaying restaurant coordinates on the NYC borough map using Kernel Density Estimation (KDE), we can visualize the spatial clustering of different culinary traditions. This visualization moves beyond simple counts to reveal distinct cultural enclaves (such as the three major “Chinatowns” in Manhattan, Queens, and Brooklyn) versus cuisines that are uniformly distributed across the city, such as American or Cafe/Deli establishments.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "results.html#hygiene-score-analysis",
    "href": "results.html#hygiene-score-analysis",
    "title": "3  Results",
    "section": "3.2 Hygiene Score Analysis",
    "text": "3.2 Hygiene Score Analysis\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Filter data for the plot\nscore_analysis &lt;- restaurants %&gt;%\n  # Exclude \"Other\" to keep the comparison meaningful\n  filter(cuisine_group != \"Other\") %&gt;%\n  # Remove extreme outliers (scores &gt; 60 are rare) for better readability\n  filter(mean_score &lt; 60)\n\n# Combined Boxplot + Violin Plot\nggplot(score_analysis, aes(x = reorder(cuisine_group, mean_score, FUN = median), y = mean_score)) +\n  \n  # Violin plot (bottom layer): Shows the shape/density of the distribution\n  geom_violin(fill = \"grey90\", color = NA, alpha = 0.5) +\n  \n  # Boxplot (top layer): Shows median and quartiles\n  geom_boxplot(width = 0.2, fill = \"steelblue\", outlier.size = 0.5, outlier.alpha = 0.3) +\n  \n  # Dashed red line at 13 (Threshold for Grade A)\n  geom_hline(yintercept = 13, linetype = \"dashed\", color = \"red\", linewidth = 0.8) +\n  annotate(\"text\", x = 1, y = 14.5, label = \"Grade A Limit (13)\", \n           color = \"red\", size = 3, hjust = 0) +\n  \n  # Flip coordinates for readable labels\n  coord_flip() + \n  labs(title = \"Hygiene Scores by Cuisine Type\",\n       subtitle = \"Lower score indicates better hygiene performance\",\n       x = \"Cuisine Group\",\n       y = \"Average Inspection Score\") +\n  theme_minimal() +\n  theme(\n    axis.text.y = element_text(face = \"bold\", size = 10),\n    plot.title = element_text(face = \"bold\")\n  )\n\n\n\n\n\n\n\n\n\nWe utilized a combined violin and boxplot to analyze the distribution of hygiene scores across cuisine groups. The red dashed line at a score of 13 marks the critical threshold for an “A” grade; the plot reveals that while the median scores for most cuisines fall within the “A” range, certain groups (such as Latin American and Asian cuisines) exhibit a wider distribution with a longer tail of higher scores, suggesting higher variance in compliance or inspection complexity.",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  },
  {
    "objectID": "data.html#restaurant-level-aggregation",
    "href": "data.html#restaurant-level-aggregation",
    "title": "2  Data",
    "section": "2.3 Restaurant-level aggregation",
    "text": "2.3 Restaurant-level aggregation\n\n\nCode\n# Helper functions to handle NAs safely\nlast_non_null &lt;- function(x) {\n  x &lt;- x[!is.na(x)]\n  if (length(x) == 0) return(NA)\n  tail(x, 1)\n}\n\nsafe_mean &lt;- function(x) {\n  x &lt;- x[!is.na(x)]\n  if (length(x) == 0) return(NA_real_)\n  mean(x)\n}\n\n# --- DATA TRANSFORMATION ---\nrestaurants &lt;- df %&gt;%\n  # 1. TIME FILTER BEFORE GROUPING\n  # Remove dummy dates (1900) and focus on relevant recent data (post-2015)\n  filter(`INSPECTION DATE` &gt;= ymd(\"2015-01-01\")) %&gt;% \n  \n  arrange(`INSPECTION DATE`) %&gt;%\n  group_by(CAMIS) %&gt;%\n  summarise(\n    DBA      = first(na.omit(DBA)),    # Takes the first non-null name\n    BORO     = first(na.omit(BORO)),\n    BUILDING = first(BUILDING),\n    STREET   = first(STREET),\n    ZIPCODE  = first(ZIPCODE),\n    PHONE    = first(PHONE),\n    CUISINE_DESCRIPTION = first(`CUISINE DESCRIPTION`),\n    \n    # 2. ROBUST COORDINATES\n    # If the first value is NA, the mean retrieves the location across inspections\n    Latitude  = mean(Latitude, na.rm = TRUE), \n    Longitude = mean(Longitude, na.rm = TRUE),\n\n    n_inspections    = n_distinct(`INSPECTION DATE`, na.rm = TRUE),\n    first_inspection = min(`INSPECTION DATE`, na.rm = TRUE),\n    last_inspection  = max(`INSPECTION DATE`, na.rm = TRUE),\n\n    mean_score = safe_mean(SCORE),\n    # Mean score provides a good summary of overall hygiene performance\n    \n    last_grade = last_non_null(GRADE),\n\n    # Create a list of all unique violations ever received by the restaurant\n    violations = list(unique(na.omit(`VIOLATION DESCRIPTION`))),\n    .groups = \"drop\"\n  )\n\ncat(\"Final row count (Restaurants):\", nrow(restaurants), \"\\n\")\n\n\nFinal row count (Restaurants): 26592 \n\n\nCode\n# View the resulting dataframe\nrestaurants\n\n\n# A tibble: 26,592 × 16\n      CAMIS DBA                         BORO      BUILDING STREET            \n      &lt;dbl&gt; &lt;chr&gt;                       &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;             \n 1 30075445 MORRIS PARK BAKE SHOP       Bronx     1007     MORRIS PARK AVENUE\n 2 30191841 D.J. REYNOLDS               Manhattan 351      WEST   57 STREET  \n 3 40356018 RIVIERA CATERERS            Brooklyn  2780     STILLWELL AVENUE  \n 4 40356483 WILKEN'S FINE FOOD          Brooklyn  7114     AVENUE U          \n 5 40356731 TASTE THE TROPICS ICE CREAM Brooklyn  1839     NOSTRAND AVENUE   \n 6 40357217 ASIA PLAZA CAFÉ             Bronx     2300     SOUTHERN BOULEVARD\n 7 40359480 1 EAST 66TH STREET KITCHEN  Manhattan 1        EAST   66 STREET  \n 8 40359705 NATHAN'S FAMOUS             Brooklyn  1310     SURF AVENUE       \n 9 40360045 SEUDA FOODS                 Brooklyn  705      KINGS HIGHWAY     \n10 40361618 SAL'S DELI                  Queens    12908    20 AVENUE         \n   ZIPCODE PHONE      CUISINE_DESCRIPTION      Latitude Longitude n_inspections\n   &lt;chr&gt;   &lt;chr&gt;      &lt;chr&gt;                       &lt;dbl&gt;     &lt;dbl&gt;         &lt;int&gt;\n 1 10462   7188924968 Bakery Products/Desserts     40.8     -73.9             5\n 2 10019   2122452912 Irish                        40.8     -74.0             3\n 3 11224   7183723031 American                     40.6     -74.0             2\n 4 11234   7184443838 Sandwiches                   40.6     -73.9             6\n 5 11226   7188560821 Frozen Desserts              40.6     -73.9             3\n 6 10460   7187411426 American                     40.9     -73.9             2\n 7 10065   2128793900 American                     40.8     -74.0             2\n 8 11224   7183332202 Hotdogs                      40.6     -74.0             3\n 9 11223   7183751500 Jewish/Kosher                40.6     -74.0             3\n10 11356   7186619498 Sandwiches                   40.8     -73.8             3\n   first_inspection last_inspection mean_score last_grade violations\n   &lt;date&gt;           &lt;date&gt;               &lt;dbl&gt; &lt;chr&gt;      &lt;list&gt;    \n 1 2023-01-31       2024-11-08           19.7  A          &lt;chr [13]&gt;\n 2 2023-04-23       2025-02-20           18.4  A          &lt;chr [8]&gt; \n 3 2024-04-16       2025-09-17            6.67 A          &lt;chr [3]&gt; \n 4 2022-01-24       2025-01-06           23.6  A          &lt;chr [14]&gt;\n 5 2023-01-17       2025-04-30           11.3  A          &lt;chr [7]&gt; \n 6 2024-05-21       2025-10-20           12    A          &lt;chr [4]&gt; \n 7 2019-10-01       2022-05-03            9    A          &lt;chr [3]&gt; \n 8 2023-04-26       2025-10-08           40.6  A          &lt;chr [12]&gt;\n 9 2022-01-05       2024-07-29           10.8  A          &lt;chr [7]&gt; \n10 2022-02-01       2024-09-16           11.6  A          &lt;chr [7]&gt; \n# ℹ 26,582 more rows\n\n\nThe original dataset is granular, containing multiple rows for every single inspection and violation. To perform a restaurant-level analysis—such as mapping cuisine locations or comparing hygiene standards across different culinary traditions—we aggregate the data to create a unique entry for each establishment, summarizing its history into single metrics like mean_score and average coordinates.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#cuisine-grouping",
    "href": "data.html#cuisine-grouping",
    "title": "2  Data",
    "section": "2.4 Cuisine Grouping",
    "text": "2.4 Cuisine Grouping\n\n\nCode\nmapping &lt;- c(\n  # --- AMERICAN (Include ora Seafood, Jewish/Kosher e varianti regionali) ---\n  \"American\"                       = \"American\",\n  \"New American\"                   = \"American\",\n  \"Chicken\"                        = \"American\",\n  \"Hamburgers\"                     = \"American\",\n  \"Steakhouse\"                     = \"American\",\n  \"Barbecue\"                       = \"American\",\n  \"Hotdogs\"                        = \"American\",\n  \"Hotdogs/Pretzels\"               = \"American\",\n  \"Soul Food\"                      = \"American\",\n  \"Continental\"                    = \"American\",\n  \"Californian\"                    = \"American\",\n  \"Southwestern\"                   = \"American\",\n  \"Cajun\"                          = \"American\",\n  \"Creole\"                         = \"American\",\n  \"Creole/Cajun\"                   = \"American\",\n  \"Hawaiian\"                       = \"American\", # Poke è spesso fast casual\n  \n  # MERGE RICHIESTI:\n  \"Seafood\"                        = \"American\", # Unito ad American\n  \"Jewish/Kosher\"                  = \"American\", # Unito ad American (stile Deli)\n\n  # --- CAFE, DELI, BAKERY & DESSERTS (Include Sandwiches e Salads) ---\n  \"Coffee/Tea\"                     = \"Cafe/Deli/Bakery\",\n  \"Bakery Products/Desserts\"       = \"Cafe/Deli/Bakery\",\n  \"Donuts\"                         = \"Cafe/Deli/Bakery\",\n  \"Frozen Desserts\"                = \"Cafe/Deli/Bakery\",\n  \"Pancakes/Waffles\"               = \"Cafe/Deli/Bakery\",\n  \"Nuts/Confectionary\"             = \"Cafe/Deli/Bakery\",\n  \"Fruits/Vegetables\"              = \"Cafe/Deli/Bakery\",\n  # Spostati qui come richiesto:\n  \"Sandwiches\"                     = \"Cafe/Deli/Bakery\",\n  \"Sandwiches/Salads/Mixed Buffet\" = \"Cafe/Deli/Bakery\",\n  \"Salads\"                         = \"Cafe/Deli/Bakery\",\n  \"Soups/Salads/Sandwiches\"        = \"Cafe/Deli/Bakery\",\n  \"Soups\"                          = \"Cafe/Deli/Bakery\",\n  \"Juice, Smoothies, Fruit Salads\" = \"Cafe/Deli/Bakery\",\n  \"Bagels/Pretzels\"                = \"Cafe/Deli/Bakery\",\n  \"Bottled Beverages\"              = \"Cafe/Deli/Bakery\",\n\n  # --- ASIAN ---\n  \"Chinese\"                        = \"Asian\",\n  \"Japanese\"                       = \"Asian\",\n  \"Asian/Asian Fusion\"             = \"Asian\",\n  \"Korean\"                         = \"Asian\",\n  \"Thai\"                           = \"Asian\",\n  \"Southeast Asian\"                = \"Asian\",\n  \"Bangladeshi\"                    = \"Asian\",\n  \"Filipino\"                       = \"Asian\",\n  \"Pakistani\"                      = \"Asian\",\n  \"Chinese/Japanese\"               = \"Asian\",\n  \"Chinese/Cuban\"                  = \"Asian\",\n  \"Indonesian\"                     = \"Asian\",\n  \"Afghan\"                         = \"Asian\",\n  \n  # --- LATIN AMERICAN ---\n  \"Mexican\"                        = \"Latin American\",\n  \"Latin American\"                 = \"Latin American\",\n  \"Caribbean\"                      = \"Latin American\",\n  \"Tex-Mex\"                        = \"Latin American\",\n  \"Peruvian\"                       = \"Latin American\",\n  \"Brazilian\"                      = \"Latin American\",\n  \"Chilean\"                        = \"Latin American\",\n  \"Chimichurri\"                    = \"Latin American\",\n  \n  # --- ITALIAN (Include Pizza) ---\n  \"Pizza\"                          = \"Italian\",\n  \"Italian\"                        = \"Italian\",\n  \n  # --- EUROPEAN (Spagnola, Est Europa, ecc.) ---\n  \"Spanish\"                        = \"European\",\n  \"Irish\"                          = \"European\",\n  \"Eastern European\"               = \"European\",\n  \"Russian\"                        = \"European\",\n  \"Polish\"                         = \"European\",\n  \"German\"                         = \"European\",\n  \"English\"                        = \"European\",\n  \"Tapas\"                          = \"European\",\n  \"Portuguese\"                     = \"European\",\n  \"Czech\"                          = \"European\",\n  \"Scandinavian\"                   = \"European\",\n  \"Basque\"                         = \"European\",\n  \"Armenian\"                       = \"European\",\n\n  # --- FRENCH ---\n  \"French\"                         = \"French\",\n  \"New French\"                     = \"French\",\n  \"Haute Cuisine\"                  = \"French\",\n\n  # --- MEDITERRANEAN / MIDDLE EASTERN ---\n  \"Mediterranean\"                  = \"Mediterranean/Middle Eastern\",\n  \"Middle Eastern\"                 = \"Mediterranean/Middle Eastern\",\n  \"Greek\"                          = \"Mediterranean/Middle Eastern\",\n  \"Turkish\"                        = \"Mediterranean/Middle Eastern\",\n  \"Falafel\"                        = \"Mediterranean/Middle Eastern\",\n  \"Egyptian\"                       = \"Mediterranean/Middle Eastern\",\n  \"Moroccan\"                       = \"Mediterranean/Middle Eastern\",\n  \"Lebanese\"                       = \"Mediterranean/Middle Eastern\",\n  \"Iranian\"                        = \"Mediterranean/Middle Eastern\",\n\n  # --- INDIAN ---\n  \"Indian\"                         = \"Indian\",\n\n  # --- OTHER ---\n  \"Other\"                          = \"Other\",\n  \"Fusion\"                         = \"Other\",\n  \"Australian\"                     = \"Other\",\n  \"Polynesian\"                     = \"Other\",\n  \"Not Listed/Not Applicable\"      = \"Other\",\n  \"African\"                        = \"Other\",\n  \"Ethiopian\"                      = \"Other\"\n)\n\n# mapping\nrestaurants &lt;- restaurants %&gt;%\n  mutate(\n    cuisine_group = mapping[CUISINE_DESCRIPTION],\n    cuisine_group = ifelse(is.na(cuisine_group), \"Other\", cuisine_group)\n  )\n\n# check\nrestaurants %&gt;%\n  count(cuisine_group, sort = TRUE)\n\n\n# A tibble: 10 × 2\n   cuisine_group                    n\n   &lt;chr&gt;                        &lt;int&gt;\n 1 American                      7188\n 2 Cafe/Deli/Bakery              5548\n 3 Asian                         4715\n 4 Latin American                3206\n 5 Italian                       2543\n 6 European                      1023\n 7 Other                          970\n 8 Mediterranean/Middle Eastern   780\n 9 Indian                         315\n10 French                         304",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  }
]